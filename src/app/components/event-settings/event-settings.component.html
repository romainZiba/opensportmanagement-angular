<form class="container" [formGroup]="form"
      (ngSubmit)="onUpdateEvent(fromDateControl.value, fromTimeControl.value, toDateControl.value,
       toTimeControl.value, placeControl.value)">
  <div class="row">
    <div class="col-xs-12 col-md-6">
      <mat-form-field>
        <input matInput type="date" i18n-placeholder="@@start-date" placeholder="Start date"
               formControlName="fromDateControl">
        <mat-error i18n="@@startDateRequired" *ngIf="fromDateControl.hasError('required')">
          Start date is <strong>required</strong>
        </mat-error>
        <mat-error i18n="@@startDateLowerThanMinDate" *ngIf="fromDateControl.hasError('minDate')">
          Start date must be greater than current date
        </mat-error>
      </mat-form-field>
    </div>
    <div class="col-xs-12 col-md-6">
      <mat-form-field>
        <input matInput type="time" pattern="[0-9]{2}:[0-9]{2}"
               i18n-placeholder="@@start-time" placeholder="Start time" formControlName="fromTimeControl">
      </mat-form-field>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 col-md-6">
      <mat-form-field>
        <input matInput type="date" i18n-placeholder="@@end-date" placeholder="End date"
               formControlName="toDateControl">
      </mat-form-field>
    </div>
    <div class="col-xs-12 col-md-6">
      <mat-form-field>
        <input matInput type="time" pattern="[0-9]{2}:[0-9]{2}"
               i18n-placeholder="@@end-time" placeholder="End time" formControlName="toTimeControl">
      </mat-form-field>
    </div>
  </div>
  <div *ngIf="placesByGroup" class="row">
    <div class="col-xs-12 col-md-12">
      <mat-form-field class="mr-1">
        <mat-select i18n-placeholder="@@place"
                    placeholder="Place" formControlName="placeControl">
          <mat-optgroup *ngFor="let key of objectKeys(placesByGroup)" [label]="key">
            <mat-option *ngFor="let place of placesByGroup[key]" [value]="place._id">
              {{ place.name }}
            </mat-option>
          </mat-optgroup>
        </mat-select>
      </mat-form-field>
      <button type="button" mat-button mat-icon-button aria-label="Add" (click)="onCreatePlace()">
        <mat-icon>add_circle_outline</mat-icon>
      </button>
    </div>
  </div>
  <div class="row">
    <div class="col-xs-12 col-md-12">
      <button type="submit" i18n="@@update"
              [disabled]="!form.valid" mat-raised-button color="primary">UPDATE</button>
    </div>
  </div>
</form>
